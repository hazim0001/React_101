{"ast":null,"code":"'use strict';\n\nconst strictUriEncode = require('strict-uri-encode');\n\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n  switch (options.arrayFormat) {\n    case 'index':\n      return (key, value, index) => {\n        return value === null ? [encode(key, options), '[', index, ']'].join('') : [encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('');\n      };\n\n    case 'bracket':\n      return (key, value) => {\n        return value === null ? [encode(key, options), '[]'].join('') : [encode(key, options), '[]=', encode(value, options)].join('');\n      };\n\n    default:\n      return (key, value) => {\n        return value === null ? encode(key, options) : [encode(key, options), '=', encode(value, options)].join('');\n      };\n  }\n}\n\nfunction parserForArrayFormat(options) {\n  let result;\n\n  switch (options.arrayFormat) {\n    case 'index':\n      return (key, value, accumulator) => {\n        result = /\\[(\\d*)\\]$/.exec(key);\n        key = key.replace(/\\[\\d*\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = {};\n        }\n\n        accumulator[key][result[1]] = value;\n      };\n\n    case 'bracket':\n      return (key, value, accumulator) => {\n        result = /(\\[\\])$/.exec(key);\n        key = key.replace(/\\[\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = [value];\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n\n    default:\n      return (key, value, accumulator) => {\n        if (accumulator[key] === undefined) {\n          accumulator[key] = value;\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n  }\n}\n\nfunction encode(value, options) {\n  if (options.encode) {\n    return options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n  }\n\n  return value;\n}\n\nfunction decode(value, options) {\n  if (options.decode) {\n    return decodeComponent(value);\n  }\n\n  return value;\n}\n\nfunction keysSorter(input) {\n  if (Array.isArray(input)) {\n    return input.sort();\n  }\n\n  if (typeof input === 'object') {\n    return keysSorter(Object.keys(input)).sort((a, b) => Number(a) - Number(b)).map(key => input[key]);\n  }\n\n  return input;\n}\n\nfunction extract(input) {\n  const queryStart = input.indexOf('?');\n\n  if (queryStart === -1) {\n    return '';\n  }\n\n  return input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n  options = Object.assign({\n    decode: true,\n    arrayFormat: 'none'\n  }, options);\n  const formatter = parserForArrayFormat(options); // Create an object with no prototype\n\n  const ret = Object.create(null);\n\n  if (typeof input !== 'string') {\n    return ret;\n  }\n\n  input = input.trim().replace(/^[?#&]/, '');\n\n  if (!input) {\n    return ret;\n  }\n\n  for (const param of input.split('&')) {\n    let [key, value] = param.replace(/\\+/g, ' ').split('='); // Missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\n    value = value === undefined ? null : decode(value, options);\n    formatter(decode(key, options), value, ret);\n  }\n\n  return Object.keys(ret).sort().reduce((result, key) => {\n    const value = ret[key];\n\n    if (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n      // Sort object keys, not values\n      result[key] = keysSorter(value);\n    } else {\n      result[key] = value;\n    }\n\n    return result;\n  }, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n  const defaults = {\n    encode: true,\n    strict: true,\n    arrayFormat: 'none'\n  };\n  options = Object.assign(defaults, options);\n\n  if (options.sort === false) {\n    options.sort = () => {};\n  }\n\n  const formatter = encoderForArrayFormat(options);\n  return obj ? Object.keys(obj).sort(options.sort).map(key => {\n    const value = obj[key];\n\n    if (value === undefined) {\n      return '';\n    }\n\n    if (value === null) {\n      return encode(key, options);\n    }\n\n    if (Array.isArray(value)) {\n      const result = [];\n\n      for (const value2 of value.slice()) {\n        if (value2 === undefined) {\n          continue;\n        }\n\n        result.push(formatter(key, value2, result.length));\n      }\n\n      return result.join('&');\n    }\n\n    return encode(key, options) + '=' + encode(value, options);\n  }).filter(x => x.length > 0).join('&') : '';\n};\n\nexports.parseUrl = (input, options) => {\n  return {\n    url: input.split('?')[0] || '',\n    query: parse(extract(input), options)\n  };\n};","map":{"version":3,"sources":["/Users/hazimnoureldin/code/hazim0001/react_with_mosh/start/router-app/node_modules/query-string/index.js"],"names":["strictUriEncode","require","decodeComponent","encoderForArrayFormat","options","arrayFormat","key","value","index","encode","join","parserForArrayFormat","result","accumulator","exec","replace","undefined","concat","strict","encodeURIComponent","decode","keysSorter","input","Array","isArray","sort","Object","keys","a","b","Number","map","extract","queryStart","indexOf","slice","parse","assign","formatter","ret","create","trim","param","split","reduce","Boolean","exports","stringify","obj","defaults","value2","push","length","filter","x","parseUrl","url","query"],"mappings":"AAAA;;AACA,MAAMA,eAAe,GAAGC,OAAO,CAAC,mBAAD,CAA/B;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,sBAAD,CAA/B;;AAEA,SAASE,qBAAT,CAA+BC,OAA/B,EAAwC;AACvC,UAAQA,OAAO,CAACC,WAAhB;AACC,SAAK,OAAL;AACC,aAAO,CAACC,GAAD,EAAMC,KAAN,EAAaC,KAAb,KAAuB;AAC7B,eAAOD,KAAK,KAAK,IAAV,GAAiB,CACvBE,MAAM,CAACH,GAAD,EAAMF,OAAN,CADiB,EAEvB,GAFuB,EAGvBI,KAHuB,EAIvB,GAJuB,EAKtBE,IALsB,CAKjB,EALiB,CAAjB,GAKM,CACZD,MAAM,CAACH,GAAD,EAAMF,OAAN,CADM,EAEZ,GAFY,EAGZK,MAAM,CAACD,KAAD,EAAQJ,OAAR,CAHM,EAIZ,IAJY,EAKZK,MAAM,CAACF,KAAD,EAAQH,OAAR,CALM,EAMXM,IANW,CAMN,EANM,CALb;AAYA,OAbD;;AAcD,SAAK,SAAL;AACC,aAAO,CAACJ,GAAD,EAAMC,KAAN,KAAgB;AACtB,eAAOA,KAAK,KAAK,IAAV,GAAiB,CAACE,MAAM,CAACH,GAAD,EAAMF,OAAN,CAAP,EAAuB,IAAvB,EAA6BM,IAA7B,CAAkC,EAAlC,CAAjB,GAAyD,CAC/DD,MAAM,CAACH,GAAD,EAAMF,OAAN,CADyD,EAE/D,KAF+D,EAG/DK,MAAM,CAACF,KAAD,EAAQH,OAAR,CAHyD,EAI9DM,IAJ8D,CAIzD,EAJyD,CAAhE;AAKA,OAND;;AAOD;AACC,aAAO,CAACJ,GAAD,EAAMC,KAAN,KAAgB;AACtB,eAAOA,KAAK,KAAK,IAAV,GAAiBE,MAAM,CAACH,GAAD,EAAMF,OAAN,CAAvB,GAAwC,CAC9CK,MAAM,CAACH,GAAD,EAAMF,OAAN,CADwC,EAE9C,GAF8C,EAG9CK,MAAM,CAACF,KAAD,EAAQH,OAAR,CAHwC,EAI7CM,IAJ6C,CAIxC,EAJwC,CAA/C;AAKA,OAND;AAzBF;AAiCA;;AAED,SAASC,oBAAT,CAA8BP,OAA9B,EAAuC;AACtC,MAAIQ,MAAJ;;AAEA,UAAQR,OAAO,CAACC,WAAhB;AACC,SAAK,OAAL;AACC,aAAO,CAACC,GAAD,EAAMC,KAAN,EAAaM,WAAb,KAA6B;AACnCD,QAAAA,MAAM,GAAG,aAAaE,IAAb,CAAkBR,GAAlB,CAAT;AAEAA,QAAAA,GAAG,GAAGA,GAAG,CAACS,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,CAAN;;AAEA,YAAI,CAACH,MAAL,EAAa;AACZC,UAAAA,WAAW,CAACP,GAAD,CAAX,GAAmBC,KAAnB;AACA;AACA;;AAED,YAAIM,WAAW,CAACP,GAAD,CAAX,KAAqBU,SAAzB,EAAoC;AACnCH,UAAAA,WAAW,CAACP,GAAD,CAAX,GAAmB,EAAnB;AACA;;AAEDO,QAAAA,WAAW,CAACP,GAAD,CAAX,CAAiBM,MAAM,CAAC,CAAD,CAAvB,IAA8BL,KAA9B;AACA,OAfD;;AAgBD,SAAK,SAAL;AACC,aAAO,CAACD,GAAD,EAAMC,KAAN,EAAaM,WAAb,KAA6B;AACnCD,QAAAA,MAAM,GAAG,UAAUE,IAAV,CAAeR,GAAf,CAAT;AACAA,QAAAA,GAAG,GAAGA,GAAG,CAACS,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;;AAEA,YAAI,CAACH,MAAL,EAAa;AACZC,UAAAA,WAAW,CAACP,GAAD,CAAX,GAAmBC,KAAnB;AACA;AACA;;AAED,YAAIM,WAAW,CAACP,GAAD,CAAX,KAAqBU,SAAzB,EAAoC;AACnCH,UAAAA,WAAW,CAACP,GAAD,CAAX,GAAmB,CAACC,KAAD,CAAnB;AACA;AACA;;AAEDM,QAAAA,WAAW,CAACP,GAAD,CAAX,GAAmB,GAAGW,MAAH,CAAUJ,WAAW,CAACP,GAAD,CAArB,EAA4BC,KAA5B,CAAnB;AACA,OAfD;;AAgBD;AACC,aAAO,CAACD,GAAD,EAAMC,KAAN,EAAaM,WAAb,KAA6B;AACnC,YAAIA,WAAW,CAACP,GAAD,CAAX,KAAqBU,SAAzB,EAAoC;AACnCH,UAAAA,WAAW,CAACP,GAAD,CAAX,GAAmBC,KAAnB;AACA;AACA;;AAEDM,QAAAA,WAAW,CAACP,GAAD,CAAX,GAAmB,GAAGW,MAAH,CAAUJ,WAAW,CAACP,GAAD,CAArB,EAA4BC,KAA5B,CAAnB;AACA,OAPD;AApCF;AA6CA;;AAED,SAASE,MAAT,CAAgBF,KAAhB,EAAuBH,OAAvB,EAAgC;AAC/B,MAAIA,OAAO,CAACK,MAAZ,EAAoB;AACnB,WAAOL,OAAO,CAACc,MAAR,GAAiBlB,eAAe,CAACO,KAAD,CAAhC,GAA0CY,kBAAkB,CAACZ,KAAD,CAAnE;AACA;;AAED,SAAOA,KAAP;AACA;;AAED,SAASa,MAAT,CAAgBb,KAAhB,EAAuBH,OAAvB,EAAgC;AAC/B,MAAIA,OAAO,CAACgB,MAAZ,EAAoB;AACnB,WAAOlB,eAAe,CAACK,KAAD,CAAtB;AACA;;AAED,SAAOA,KAAP;AACA;;AAED,SAASc,UAAT,CAAoBC,KAApB,EAA2B;AAC1B,MAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACzB,WAAOA,KAAK,CAACG,IAAN,EAAP;AACA;;AAED,MAAI,OAAOH,KAAP,KAAiB,QAArB,EAA+B;AAC9B,WAAOD,UAAU,CAACK,MAAM,CAACC,IAAP,CAAYL,KAAZ,CAAD,CAAV,CACLG,IADK,CACA,CAACG,CAAD,EAAIC,CAAJ,KAAUC,MAAM,CAACF,CAAD,CAAN,GAAYE,MAAM,CAACD,CAAD,CAD5B,EAELE,GAFK,CAEDzB,GAAG,IAAIgB,KAAK,CAAChB,GAAD,CAFX,CAAP;AAGA;;AAED,SAAOgB,KAAP;AACA;;AAED,SAASU,OAAT,CAAiBV,KAAjB,EAAwB;AACvB,QAAMW,UAAU,GAAGX,KAAK,CAACY,OAAN,CAAc,GAAd,CAAnB;;AACA,MAAID,UAAU,KAAK,CAAC,CAApB,EAAuB;AACtB,WAAO,EAAP;AACA;;AACD,SAAOX,KAAK,CAACa,KAAN,CAAYF,UAAU,GAAG,CAAzB,CAAP;AACA;;AAED,SAASG,KAAT,CAAed,KAAf,EAAsBlB,OAAtB,EAA+B;AAC9BA,EAAAA,OAAO,GAAGsB,MAAM,CAACW,MAAP,CAAc;AAACjB,IAAAA,MAAM,EAAE,IAAT;AAAef,IAAAA,WAAW,EAAE;AAA5B,GAAd,EAAmDD,OAAnD,CAAV;AAEA,QAAMkC,SAAS,GAAG3B,oBAAoB,CAACP,OAAD,CAAtC,CAH8B,CAK9B;;AACA,QAAMmC,GAAG,GAAGb,MAAM,CAACc,MAAP,CAAc,IAAd,CAAZ;;AAEA,MAAI,OAAOlB,KAAP,KAAiB,QAArB,EAA+B;AAC9B,WAAOiB,GAAP;AACA;;AAEDjB,EAAAA,KAAK,GAAGA,KAAK,CAACmB,IAAN,GAAa1B,OAAb,CAAqB,QAArB,EAA+B,EAA/B,CAAR;;AAEA,MAAI,CAACO,KAAL,EAAY;AACX,WAAOiB,GAAP;AACA;;AAED,OAAK,MAAMG,KAAX,IAAoBpB,KAAK,CAACqB,KAAN,CAAY,GAAZ,CAApB,EAAsC;AACrC,QAAI,CAACrC,GAAD,EAAMC,KAAN,IAAemC,KAAK,CAAC3B,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0B4B,KAA1B,CAAgC,GAAhC,CAAnB,CADqC,CAGrC;AACA;;AACApC,IAAAA,KAAK,GAAGA,KAAK,KAAKS,SAAV,GAAsB,IAAtB,GAA6BI,MAAM,CAACb,KAAD,EAAQH,OAAR,CAA3C;AAEAkC,IAAAA,SAAS,CAAClB,MAAM,CAACd,GAAD,EAAMF,OAAN,CAAP,EAAuBG,KAAvB,EAA8BgC,GAA9B,CAAT;AACA;;AAED,SAAOb,MAAM,CAACC,IAAP,CAAYY,GAAZ,EAAiBd,IAAjB,GAAwBmB,MAAxB,CAA+B,CAAChC,MAAD,EAASN,GAAT,KAAiB;AACtD,UAAMC,KAAK,GAAGgC,GAAG,CAACjC,GAAD,CAAjB;;AACA,QAAIuC,OAAO,CAACtC,KAAD,CAAP,IAAkB,OAAOA,KAAP,KAAiB,QAAnC,IAA+C,CAACgB,KAAK,CAACC,OAAN,CAAcjB,KAAd,CAApD,EAA0E;AACzE;AACAK,MAAAA,MAAM,CAACN,GAAD,CAAN,GAAce,UAAU,CAACd,KAAD,CAAxB;AACA,KAHD,MAGO;AACNK,MAAAA,MAAM,CAACN,GAAD,CAAN,GAAcC,KAAd;AACA;;AAED,WAAOK,MAAP;AACA,GAVM,EAUJc,MAAM,CAACc,MAAP,CAAc,IAAd,CAVI,CAAP;AAWA;;AAEDM,OAAO,CAACd,OAAR,GAAkBA,OAAlB;AACAc,OAAO,CAACV,KAAR,GAAgBA,KAAhB;;AAEAU,OAAO,CAACC,SAAR,GAAoB,CAACC,GAAD,EAAM5C,OAAN,KAAkB;AACrC,QAAM6C,QAAQ,GAAG;AAChBxC,IAAAA,MAAM,EAAE,IADQ;AAEhBS,IAAAA,MAAM,EAAE,IAFQ;AAGhBb,IAAAA,WAAW,EAAE;AAHG,GAAjB;AAMAD,EAAAA,OAAO,GAAGsB,MAAM,CAACW,MAAP,CAAcY,QAAd,EAAwB7C,OAAxB,CAAV;;AAEA,MAAIA,OAAO,CAACqB,IAAR,KAAiB,KAArB,EAA4B;AAC3BrB,IAAAA,OAAO,CAACqB,IAAR,GAAe,MAAM,CAAE,CAAvB;AACA;;AAED,QAAMa,SAAS,GAAGnC,qBAAqB,CAACC,OAAD,CAAvC;AAEA,SAAO4C,GAAG,GAAGtB,MAAM,CAACC,IAAP,CAAYqB,GAAZ,EAAiBvB,IAAjB,CAAsBrB,OAAO,CAACqB,IAA9B,EAAoCM,GAApC,CAAwCzB,GAAG,IAAI;AAC3D,UAAMC,KAAK,GAAGyC,GAAG,CAAC1C,GAAD,CAAjB;;AAEA,QAAIC,KAAK,KAAKS,SAAd,EAAyB;AACxB,aAAO,EAAP;AACA;;AAED,QAAIT,KAAK,KAAK,IAAd,EAAoB;AACnB,aAAOE,MAAM,CAACH,GAAD,EAAMF,OAAN,CAAb;AACA;;AAED,QAAImB,KAAK,CAACC,OAAN,CAAcjB,KAAd,CAAJ,EAA0B;AACzB,YAAMK,MAAM,GAAG,EAAf;;AAEA,WAAK,MAAMsC,MAAX,IAAqB3C,KAAK,CAAC4B,KAAN,EAArB,EAAoC;AACnC,YAAIe,MAAM,KAAKlC,SAAf,EAA0B;AACzB;AACA;;AAEDJ,QAAAA,MAAM,CAACuC,IAAP,CAAYb,SAAS,CAAChC,GAAD,EAAM4C,MAAN,EAActC,MAAM,CAACwC,MAArB,CAArB;AACA;;AAED,aAAOxC,MAAM,CAACF,IAAP,CAAY,GAAZ,CAAP;AACA;;AAED,WAAOD,MAAM,CAACH,GAAD,EAAMF,OAAN,CAAN,GAAuB,GAAvB,GAA6BK,MAAM,CAACF,KAAD,EAAQH,OAAR,CAA1C;AACA,GA1BY,EA0BViD,MA1BU,CA0BHC,CAAC,IAAIA,CAAC,CAACF,MAAF,GAAW,CA1Bb,EA0BgB1C,IA1BhB,CA0BqB,GA1BrB,CAAH,GA0B+B,EA1BzC;AA2BA,CA1CD;;AA4CAoC,OAAO,CAACS,QAAR,GAAmB,CAACjC,KAAD,EAAQlB,OAAR,KAAoB;AACtC,SAAO;AACNoD,IAAAA,GAAG,EAAElC,KAAK,CAACqB,KAAN,CAAY,GAAZ,EAAiB,CAAjB,KAAuB,EADtB;AAENc,IAAAA,KAAK,EAAErB,KAAK,CAACJ,OAAO,CAACV,KAAD,CAAR,EAAiBlB,OAAjB;AAFN,GAAP;AAIA,CALD","sourcesContent":["'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tconst defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\toptions = Object.assign(defaults, options);\n\n\tif (options.sort === false) {\n\t\toptions.sort = () => {};\n\t}\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\treturn obj ? Object.keys(obj).sort(options.sort).map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&') : '';\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n"]},"metadata":{},"sourceType":"script"}